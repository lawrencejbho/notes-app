{"ast":null,"code":"'use strict';\n\nconst fs = require('fs');\n\nconst path = require('path');\n\nconst YError = require('./yerror');\n\nlet previouslyVisitedConfigs = [];\n\nfunction checkForCircularExtends(cfgPath) {\n  if (previouslyVisitedConfigs.indexOf(cfgPath) > -1) {\n    throw new YError(`Circular extended configurations: '${cfgPath}'.`);\n  }\n}\n\nfunction getPathToDefaultConfig(cwd, pathToExtend) {\n  return path.resolve(cwd, pathToExtend);\n}\n\nfunction mergeDeep(config1, config2) {\n  const target = {};\n\n  const isObject = obj => obj && typeof obj === 'object' && !Array.isArray(obj);\n\n  Object.assign(target, config1);\n\n  for (let key of Object.keys(config2)) {\n    if (isObject(config2[key]) && isObject(target[key])) {\n      target[key] = mergeDeep(config1[key], config2[key]);\n    } else {\n      target[key] = config2[key];\n    }\n  }\n\n  return target;\n}\n\nfunction applyExtends(config, cwd, mergeExtends) {\n  let defaultConfig = {};\n\n  if (Object.prototype.hasOwnProperty.call(config, 'extends')) {\n    if (typeof config.extends !== 'string') return defaultConfig;\n    const isPath = /\\.json|\\..*rc$/.test(config.extends);\n    let pathToDefault = null;\n\n    if (!isPath) {\n      try {\n        pathToDefault = require.resolve(config.extends);\n      } catch (err) {// most likely this simply isn't a module.\n      }\n    } else {\n      pathToDefault = getPathToDefaultConfig(cwd, config.extends);\n    } // maybe the module uses key for some other reason,\n    // err on side of caution.\n\n\n    if (!pathToDefault && !isPath) return config;\n    checkForCircularExtends(pathToDefault);\n    previouslyVisitedConfigs.push(pathToDefault);\n    defaultConfig = isPath ? JSON.parse(fs.readFileSync(pathToDefault, 'utf8')) : require(config.extends);\n    delete config.extends;\n    defaultConfig = applyExtends(defaultConfig, path.dirname(pathToDefault), mergeExtends);\n  }\n\n  previouslyVisitedConfigs = [];\n  return mergeExtends ? mergeDeep(defaultConfig, config) : Object.assign({}, defaultConfig, config);\n}\n\nmodule.exports = applyExtends;","map":{"version":3,"names":["fs","require","path","YError","previouslyVisitedConfigs","checkForCircularExtends","cfgPath","indexOf","getPathToDefaultConfig","cwd","pathToExtend","resolve","mergeDeep","config1","config2","target","isObject","obj","Array","isArray","Object","assign","key","keys","applyExtends","config","mergeExtends","defaultConfig","prototype","hasOwnProperty","call","extends","isPath","test","pathToDefault","err","push","JSON","parse","readFileSync","dirname","module","exports"],"sources":["/home/lawrence/learn-react/react-notes-app/node_modules/yargs/lib/apply-extends.js"],"sourcesContent":["\n'use strict'\nconst fs = require('fs')\nconst path = require('path')\nconst YError = require('./yerror')\n\nlet previouslyVisitedConfigs = []\n\nfunction checkForCircularExtends (cfgPath) {\n  if (previouslyVisitedConfigs.indexOf(cfgPath) > -1) {\n    throw new YError(`Circular extended configurations: '${cfgPath}'.`)\n  }\n}\n\nfunction getPathToDefaultConfig (cwd, pathToExtend) {\n  return path.resolve(cwd, pathToExtend)\n}\n\nfunction mergeDeep (config1, config2) {\n  const target = {}\n  const isObject = obj => obj && typeof obj === 'object' && !Array.isArray(obj)\n  Object.assign(target, config1)\n  for (let key of Object.keys(config2)) {\n    if (isObject(config2[key]) && isObject(target[key])) {\n      target[key] = mergeDeep(config1[key], config2[key])\n    } else {\n      target[key] = config2[key]\n    }\n  }\n  return target\n}\n\nfunction applyExtends (config, cwd, mergeExtends) {\n  let defaultConfig = {}\n\n  if (Object.prototype.hasOwnProperty.call(config, 'extends')) {\n    if (typeof config.extends !== 'string') return defaultConfig\n    const isPath = /\\.json|\\..*rc$/.test(config.extends)\n    let pathToDefault = null\n    if (!isPath) {\n      try {\n        pathToDefault = require.resolve(config.extends)\n      } catch (err) {\n        // most likely this simply isn't a module.\n      }\n    } else {\n      pathToDefault = getPathToDefaultConfig(cwd, config.extends)\n    }\n    // maybe the module uses key for some other reason,\n    // err on side of caution.\n    if (!pathToDefault && !isPath) return config\n\n    checkForCircularExtends(pathToDefault)\n\n    previouslyVisitedConfigs.push(pathToDefault)\n\n    defaultConfig = isPath ? JSON.parse(fs.readFileSync(pathToDefault, 'utf8')) : require(config.extends)\n    delete config.extends\n    defaultConfig = applyExtends(defaultConfig, path.dirname(pathToDefault), mergeExtends)\n  }\n\n  previouslyVisitedConfigs = []\n\n  return mergeExtends ? mergeDeep(defaultConfig, config) : Object.assign({}, defaultConfig, config)\n}\n\nmodule.exports = applyExtends\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}